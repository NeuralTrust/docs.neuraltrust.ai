"use strict";(self.webpackChunkneuraltrust_docs=self.webpackChunkneuraltrust_docs||[]).push([[7619],{2107:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"ai-gateway/architecture","title":"Architecture","description":"The NeuralTrust AI Gateway is designed as a modular, scalable system that provides secure access management and monitoring for AI model APIs. This document details the core architectural components and their interactions.","source":"@site/docs/ai-gateway/architecture.md","sourceDirName":"ai-gateway","slug":"/ai-gateway/architecture","permalink":"/neuraltrust/ai-gateway/architecture","draft":false,"unlisted":false,"editUrl":"https://github.com/NeuralTrust/neuraltrust/blob/main/docs/ai-gateway/architecture.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Quickstart Guide","permalink":"/neuraltrust/ai-gateway/quickstart"},"next":{"title":"AI Gateway Concepts","permalink":"/neuraltrust/category/ai-gateway-concepts"}}');var r=i(4848),l=i(8453);const t={sidebar_position:2},c="Architecture",a={},d=[{value:"High-Level Overview",id:"high-level-overview",level:2},{value:"Core Components",id:"core-components",level:2},{value:"1. Admin Server",id:"1-admin-server",level:3},{value:"2. Proxy Server",id:"2-proxy-server",level:3},{value:"3. Redis Storage Layer",id:"3-redis-storage-layer",level:3},{value:"4. Plugin System",id:"4-plugin-system",level:3},{value:"Data Flow",id:"data-flow",level:2},{value:"Security Architecture",id:"security-architecture",level:2},{value:"Monitoring and Observability",id:"monitoring-and-observability",level:2},{value:"Scaling Considerations",id:"scaling-considerations",level:2},{value:"Integration Points",id:"integration-points",level:2},{value:"Configuration Management",id:"configuration-management",level:2}];function o(n){const e={h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,l.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"architecture",children:"Architecture"})}),"\n",(0,r.jsx)(e.p,{children:"The NeuralTrust AI Gateway is designed as a modular, scalable system that provides secure access management and monitoring for AI model APIs. This document details the core architectural components and their interactions."}),"\n",(0,r.jsx)(e.h2,{id:"high-level-overview",children:"High-Level Overview"}),"\n",(0,r.jsx)(e.p,{children:"The gateway consists of two main components:"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"Admin API (Port 8080) - For tenant and configuration management"}),"\n",(0,r.jsx)(e.li,{children:"Proxy API (Port 8081) - For handling and forwarding requests"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"core-components",children:"Core Components"}),"\n",(0,r.jsx)(e.h3,{id:"1-admin-server",children:"1. Admin Server"}),"\n",(0,r.jsx)(e.p,{children:"The Admin Server is responsible for managing the gateway's configuration and tenant management. Key features include:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Tenant Management"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Creation and management of tenant accounts"}),"\n",(0,r.jsx)(e.li,{children:"API key generation and rotation"}),"\n",(0,r.jsx)(e.li,{children:"Usage quotas and billing configuration"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Provider Configuration"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"AI provider endpoint configuration"}),"\n",(0,r.jsx)(e.li,{children:"Authentication credentials management"}),"\n",(0,r.jsx)(e.li,{children:"Model mappings and aliases"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Policy Management"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Access control rules"}),"\n",(0,r.jsx)(e.li,{children:"Rate limiting configurations"}),"\n",(0,r.jsx)(e.li,{children:"Request routing rules"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"2-proxy-server",children:"2. Proxy Server"}),"\n",(0,r.jsx)(e.p,{children:"The Proxy Server handles all AI model requests and implements the core routing logic:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Request Processing"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Authentication validation"}),"\n",(0,r.jsx)(e.li,{children:"Request transformation"}),"\n",(0,r.jsx)(e.li,{children:"Load balancing"}),"\n",(0,r.jsx)(e.li,{children:"Request queuing"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Response Handling"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Response validation"}),"\n",(0,r.jsx)(e.li,{children:"Error handling"}),"\n",(0,r.jsx)(e.li,{children:"Response transformation"}),"\n",(0,r.jsx)(e.li,{children:"Metrics collection"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"3-redis-storage-layer",children:"3. Redis Storage Layer"}),"\n",(0,r.jsx)(e.p,{children:"Redis serves as the central storage system for:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Configuration data"}),"\n",(0,r.jsx)(e.li,{children:"Rate limiting counters"}),"\n",(0,r.jsx)(e.li,{children:"Cache storage"}),"\n",(0,r.jsx)(e.li,{children:"Session management"}),"\n",(0,r.jsx)(e.li,{children:"Real-time metrics"}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"4-plugin-system",children:"4. Plugin System"}),"\n",(0,r.jsx)(e.p,{children:"The plugin system provides a modular approach to extending gateway functionality:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Pre-processing Plugins"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Input validation"}),"\n",(0,r.jsx)(e.li,{children:"Content filtering"}),"\n",(0,r.jsx)(e.li,{children:"Request transformation"}),"\n",(0,r.jsx)(e.li,{children:"Authentication"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Post-processing Plugins"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Response validation"}),"\n",(0,r.jsx)(e.li,{children:"Content modification"}),"\n",(0,r.jsx)(e.li,{children:"Metrics collection"}),"\n",(0,r.jsx)(e.li,{children:"Logging"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Core Plugins"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Rate limiting"}),"\n",(0,r.jsx)(e.li,{children:"Usage tracking"}),"\n",(0,r.jsx)(e.li,{children:"Cost management"}),"\n",(0,r.jsx)(e.li,{children:"Load balancing"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"data-flow",children:"Data Flow"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Incoming Request"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Client sends request to Proxy API"}),"\n",(0,r.jsx)(e.li,{children:"Request is authenticated and validated"}),"\n",(0,r.jsx)(e.li,{children:"Pre-processing plugins are executed"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Request Processing"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Request is routed to appropriate AI provider"}),"\n",(0,r.jsx)(e.li,{children:"Rate limiting and quotas are checked"}),"\n",(0,r.jsx)(e.li,{children:"Request is transformed if needed"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Response Handling"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Response is received from AI provider"}),"\n",(0,r.jsx)(e.li,{children:"Post-processing plugins are executed"}),"\n",(0,r.jsx)(e.li,{children:"Metrics are collected"}),"\n",(0,r.jsx)(e.li,{children:"Response is returned to client"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"security-architecture",children:"Security Architecture"}),"\n",(0,r.jsx)(e.p,{children:"The gateway implements multiple security layers:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Authentication"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"API key validation"}),"\n",(0,r.jsx)(e.li,{children:"JWT token support"}),"\n",(0,r.jsx)(e.li,{children:"OAuth2 integration (optional)"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Authorization"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Role-based access control"}),"\n",(0,r.jsx)(e.li,{children:"Fine-grained permissions"}),"\n",(0,r.jsx)(e.li,{children:"IP whitelisting"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Encryption"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"TLS for all communications"}),"\n",(0,r.jsx)(e.li,{children:"Payload encryption options"}),"\n",(0,r.jsx)(e.li,{children:"Key rotation"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"monitoring-and-observability",children:"Monitoring and Observability"}),"\n",(0,r.jsx)(e.p,{children:"The gateway provides comprehensive monitoring capabilities:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Metrics"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Request/response timing"}),"\n",(0,r.jsx)(e.li,{children:"Error rates"}),"\n",(0,r.jsx)(e.li,{children:"Usage statistics"}),"\n",(0,r.jsx)(e.li,{children:"Cost tracking"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Logging"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Structured logging"}),"\n",(0,r.jsx)(e.li,{children:"Audit trails"}),"\n",(0,r.jsx)(e.li,{children:"Error tracking"}),"\n",(0,r.jsx)(e.li,{children:"Debug information"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Alerting"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Usage threshold alerts"}),"\n",(0,r.jsx)(e.li,{children:"Error rate monitoring"}),"\n",(0,r.jsx)(e.li,{children:"System health checks"}),"\n",(0,r.jsx)(e.li,{children:"Cost management alerts"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"scaling-considerations",children:"Scaling Considerations"}),"\n",(0,r.jsx)(e.p,{children:"The gateway is designed to scale horizontally:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Stateless proxy servers can be replicated"}),"\n",(0,r.jsx)(e.li,{children:"Redis cluster support for high availability"}),"\n",(0,r.jsx)(e.li,{children:"Load balancer integration"}),"\n",(0,r.jsx)(e.li,{children:"Multiple deployment options (Kubernetes, Docker, bare metal)"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"integration-points",children:"Integration Points"}),"\n",(0,r.jsx)(e.p,{children:"The gateway provides multiple integration options:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"REST APIs"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Admin API for configuration"}),"\n",(0,r.jsx)(e.li,{children:"Proxy API for requests"}),"\n",(0,r.jsx)(e.li,{children:"Metrics API for monitoring"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Webhooks"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Event notifications"}),"\n",(0,r.jsx)(e.li,{children:"Status updates"}),"\n",(0,r.jsx)(e.li,{children:"Alert integration"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Custom Plugins"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Custom authentication"}),"\n",(0,r.jsx)(e.li,{children:"Request/response transformation"}),"\n",(0,r.jsx)(e.li,{children:"Business logic integration"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"configuration-management",children:"Configuration Management"}),"\n",(0,r.jsx)(e.p,{children:"Configuration is managed through:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Environment variables"}),"\n",(0,r.jsx)(e.li,{children:"Configuration files"}),"\n",(0,r.jsx)(e.li,{children:"Admin API"}),"\n",(0,r.jsx)(e.li,{children:"Database storage"}),"\n",(0,r.jsx)(e.li,{children:"Redis cache"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"This architecture provides a robust foundation for managing AI model access while ensuring security, scalability, and extensibility."})]})}function h(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(o,{...n})}):o(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>t,x:()=>c});var s=i(6540);const r={},l=s.createContext(r);function t(n){const e=s.useContext(l);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:t(n.components),s.createElement(l.Provider,{value:e},n.children)}}}]);