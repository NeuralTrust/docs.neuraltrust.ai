<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-ai-gateway/concepts/consumer-groups" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.3">
<title data-rh="true">Consumer Groups | NeuralTrust Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.neuraltrust.ai/img/neuraltrust-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://docs.neuraltrust.ai/img/neuraltrust-social-card.jpg"><meta data-rh="true" property="og:url" content="https://docs.neuraltrust.ai/ai-gateway/concepts/consumer-groups"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Consumer Groups | NeuralTrust Docs"><meta data-rh="true" name="description" content="A consumer group in AI Gateway allows you to organize and manage consumers (API users) collectively. This enables you to apply plugins and policies to multiple consumers at once, making it easier to manage access control and rate limiting for different types of users."><meta data-rh="true" property="og:description" content="A consumer group in AI Gateway allows you to organize and manage consumers (API users) collectively. This enables you to apply plugins and policies to multiple consumers at once, making it easier to manage access control and rate limiting for different types of users."><link data-rh="true" rel="icon" href="/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://docs.neuraltrust.ai/ai-gateway/concepts/consumer-groups"><link data-rh="true" rel="alternate" href="https://docs.neuraltrust.ai/ai-gateway/concepts/consumer-groups" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.neuraltrust.ai/ai-gateway/concepts/consumer-groups" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://HW1BIJOXAK-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.dc97f310.css">
<script src="/assets/js/runtime~main.70e3d7ab.js" defer="defer"></script>
<script src="/assets/js/main.c03b8fd8.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="NeuralTrust Logo" class="navbar-logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="NeuralTrust Logo" class="navbar-logo themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">NeuralTrust</b></a></div><div class="navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><a href="https://github.com/NeuralTrust/TrustGate" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><a href="https://neuraltrustcommunity.slack.com/join/shared_invite/zt-2xl47cag6-_HFNpltIULnA3wh4R6AqBg" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-slack-link" aria-label="Slack community"></a><a href="https://linkedin.com/company/neuraltrust" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-linkedin-link" aria-label="LinkedIn page"></a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/category/trustgate">TrustGate</a><button aria-label="Collapse sidebar category &#x27;TrustGate&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/category/getting-started">Getting Started</a><button aria-label="Expand sidebar category &#x27;Getting Started&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/category/key-concepts">Key Concepts</a><button aria-label="Collapse sidebar category &#x27;Key Concepts&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ai-gateway/concepts/gateway">Gateway</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ai-gateway/concepts/services">Services</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ai-gateway/concepts/upstreams">Upstreams</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ai-gateway/concepts/rules">Rules</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ai-gateway/concepts/plugins">Plugins</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ai-gateway/concepts/traffic-management">Traffic Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/ai-gateway/concepts/consumer-groups">Consumer Groups</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/category/guides">Guides</a><button aria-label="Expand sidebar category &#x27;Guides&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/category/plugins">Plugins</a><button aria-label="Expand sidebar category &#x27;Plugins&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/category/api">API</a><button aria-label="Expand sidebar category &#x27;API&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ai-gateway/monitoring">Monitoring</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ai-gateway/benchmark">Benchmark</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/category/trusttest">TrustTest</a><button aria-label="Expand sidebar category &#x27;TrustTest&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/category/trustlens">TrustLens</a><button aria-label="Expand sidebar category &#x27;TrustLens&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/category/sdks">SDKs</a><button aria-label="Expand sidebar category &#x27;SDKs&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/category/trustgate"><span itemprop="name">TrustGate</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/category/key-concepts"><span itemprop="name">Key Concepts</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Consumer Groups</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Consumer Groups</h1></header>
<p>A consumer group in AI Gateway allows you to organize and manage consumers (API users) collectively. This enables you to apply plugins and policies to multiple consumers at once, making it easier to manage access control and rate limiting for different types of users.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="group-structure">Group Structure<a href="#group-structure" class="hash-link" aria-label="Direct link to Group Structure" title="Direct link to Group Structure">​</a></h2>
<p>A consumer group consists of:</p>
<ul>
<li>Name: A unique identifier for the group</li>
<li>Consumers: List of consumers in the group</li>
<li>Plugins: Plugins applied to all consumers in the group</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="group-level-plugins">Group-level Plugins<a href="#group-level-plugins" class="hash-link" aria-label="Direct link to Group-level Plugins" title="Direct link to Group-level Plugins">​</a></h2>
<p>Plugins applied to a consumer group affect all consumers in that group, providing efficient management of shared configurations:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="rate-limiting">Rate Limiting<a href="#rate-limiting" class="hash-link" aria-label="Direct link to Rate Limiting" title="Direct link to Rate Limiting">​</a></h3>
<p>Rate limiting at the group level provides sophisticated traffic control mechanisms. The system implements <strong>shared quotas across group</strong> members, allowing for efficient resource allocation and preventing any single consumer from monopolizing resources. <strong>Group-specific limits</strong> can be configured to match different service tiers or business requirements, enabling granular control over API usage. The system also supports the ability to <strong>override individual limits</strong> when necessary, providing flexibility while maintaining group-level control. This hierarchical approach to rate limiting ensures fair resource distribution while accommodating specific needs of individual consumers.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="authentication">Authentication<a href="#authentication" class="hash-link" aria-label="Direct link to Authentication" title="Direct link to Authentication">​</a></h3>
<p>Group-level authentication streamlines access management across multiple consumers. The system supports <strong>group-wide authentication</strong> mechanisms that apply uniformly to all group members, simplifying security management. <strong>Shared credentials</strong> can be configured for the entire group, reducing administrative overhead while maintaining security. Sophisticated <strong>access control policies</strong> can be implemented at the group level, enabling consistent security rules across all group members. This centralized approach to authentication ensures consistent security practices while simplifying management of multiple consumers.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage-control">Usage Control<a href="#usage-control" class="hash-link" aria-label="Direct link to Usage Control" title="Direct link to Usage Control">​</a></h3>
<p>Usage control at the group level enables comprehensive resource management. The system implements <strong>aggregate quotas</strong> that apply across all group members, allowing for efficient resource allocation and monitoring. <strong>Group-level policies</strong> can be established to govern various aspects of API usage, from access patterns to resource consumption. Sophisticated <strong>resource allocation</strong> mechanisms ensure fair distribution of resources among group members while maintaining overall system stability. This approach to usage control provides both flexibility and control in managing API consumption across multiple consumers.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="plugin-inheritance">Plugin Inheritance<a href="#plugin-inheritance" class="hash-link" aria-label="Direct link to Plugin Inheritance" title="Direct link to Plugin Inheritance">​</a></h2>
<p>Consumer groups follow a specific plugin inheritance pattern that ensures proper configuration precedence and flexibility:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="priority-order">Priority Order<a href="#priority-order" class="hash-link" aria-label="Direct link to Priority Order" title="Direct link to Priority Order">​</a></h3>
<p>The system implements a sophisticated hierarchical inheritance model for plugin configurations. At the most granular level, <strong>consumer-specific plugins</strong> take highest precedence, allowing for individual customization when needed. Next in the hierarchy are <strong>consumer group plugins</strong>, which provide shared configurations for all members of a group. <strong>Route plugins</strong> follow in precedence, enabling path-specific behavior across all consumers. <strong>Service plugins</strong> provide the next layer of configuration, applying to all routes within a service. Finally, <strong>gateway plugins</strong> establish the baseline configuration that applies across the entire system. This carefully structured hierarchy ensures that configurations can be appropriately scoped while maintaining a clear order of precedence.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="plugin-merging">Plugin Merging<a href="#plugin-merging" class="hash-link" aria-label="Direct link to Plugin Merging" title="Direct link to Plugin Merging">​</a></h3>
<p>The plugin merging system implements intelligent configuration combination rules. Following the principle that <strong>more specific settings override general ones</strong>, the system ensures that lower-level configurations can customize or override higher-level defaults when necessary. While <strong>group settings can be overridden</strong> by more specific configurations, they still provide a powerful way to establish default behavior for all group members. The system also includes sophisticated <strong>multiple groups handling</strong> capabilities, allowing for complex scenarios where consumers might belong to multiple groups with potentially overlapping configurations. This merging strategy provides both flexibility and predictability in how different levels of configuration interact.</p>
<p>This inheritance model creates a powerful and flexible system for managing plugin configurations across different scopes while maintaining clear rules about how these configurations combine and override each other. The hierarchical approach ensures that administrators can implement both broad policies and specific customizations as needed, while the merging rules provide predictable and manageable behavior when configurations from different levels interact.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="use-cases">Use Cases<a href="#use-cases" class="hash-link" aria-label="Direct link to Use Cases" title="Direct link to Use Cases">​</a></h2>
<p>Common consumer group scenarios:</p>
<ol>
<li>
<p><strong>Tiered Access</strong></p>
<ul>
<li>Premium tier with higher limits</li>
<li>Standard tier with basic access</li>
<li>Trial tier with restrictions</li>
</ul>
</li>
<li>
<p><strong>Team Organization</strong></p>
<ul>
<li>Development teams</li>
<li>Testing environments</li>
<li>Production access</li>
</ul>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="best-practices">Best Practices<a href="#best-practices" class="hash-link" aria-label="Direct link to Best Practices" title="Direct link to Best Practices">​</a></h2>
<ol>
<li>
<p><strong>Group Organization</strong></p>
<ul>
<li>Use logical groupings</li>
<li>Keep groups focused</li>
<li>Document group purposes</li>
<li>Maintain clear hierarchy</li>
</ul>
</li>
<li>
<p><strong>Plugin Configuration</strong></p>
<ul>
<li>Configure appropriate limits</li>
<li>Set sensible defaults</li>
<li>Document overrides</li>
<li>Plan resource allocation</li>
</ul>
</li>
<li>
<p><strong>Access Control</strong></p>
<ul>
<li>Regular access review</li>
<li>Document permissions</li>
<li>Audit group membership</li>
<li>Maintain security</li>
</ul>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="next-steps">Next Steps<a href="#next-steps" class="hash-link" aria-label="Direct link to Next Steps" title="Direct link to Next Steps">​</a></h2>
<ul>
<li><a href="/ai-gateway/concepts/plugins">Learn about Plugins</a></li>
<li><a href="/ai-gateway/concepts/services">Understand Services</a></li>
<li><a href="/ai-gateway/concepts/rules">Configure Rules</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/NeuralTrust/neuraltrust/blob/main/docs/ai-gateway/concepts/consumer-groups.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/ai-gateway/concepts/traffic-management"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Traffic Management</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/category/guides"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Guides</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#group-structure" class="table-of-contents__link toc-highlight">Group Structure</a></li><li><a href="#group-level-plugins" class="table-of-contents__link toc-highlight">Group-level Plugins</a><ul><li><a href="#rate-limiting" class="table-of-contents__link toc-highlight">Rate Limiting</a></li><li><a href="#authentication" class="table-of-contents__link toc-highlight">Authentication</a></li><li><a href="#usage-control" class="table-of-contents__link toc-highlight">Usage Control</a></li></ul></li><li><a href="#plugin-inheritance" class="table-of-contents__link toc-highlight">Plugin Inheritance</a><ul><li><a href="#priority-order" class="table-of-contents__link toc-highlight">Priority Order</a></li><li><a href="#plugin-merging" class="table-of-contents__link toc-highlight">Plugin Merging</a></li></ul></li><li><a href="#use-cases" class="table-of-contents__link toc-highlight">Use Cases</a></li><li><a href="#best-practices" class="table-of-contents__link toc-highlight">Best Practices</a></li><li><a href="#next-steps" class="table-of-contents__link toc-highlight">Next Steps</a></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>